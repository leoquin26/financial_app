/* iOS-specific fixes for iPhone and iPad */

/* Reset and base styles */
* {
  -webkit-box-sizing: border-box !important;
  box-sizing: border-box !important;
  -webkit-overflow-scrolling: touch;
}

/* Prevent horizontal scrolling on iOS */
html {
  width: 100vw !important;
  overflow-x: hidden !important;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
}

body {
  width: 100vw !important;
  overflow-x: hidden !important;
  position: relative !important;
  -webkit-font-smoothing: antialiased;
}

/* Root container */
#root {
  width: 100vw !important;
  max-width: 100vw !important;
  overflow-x: hidden !important;
  position: relative !important;
}

/* Fix for iOS safe areas (iPhone X and later) */
@supports (padding: max(0px)) {
  .MuiAppBar-root {
    padding-top: env(safe-area-inset-top) !important;
    padding-left: env(safe-area-inset-left) !important;
    padding-right: env(safe-area-inset-right) !important;
  }
  
  .MuiBottomNavigation-root {
    padding-bottom: env(safe-area-inset-bottom) !important;
  }
  
  main {
    padding-left: env(safe-area-inset-left) !important;
    padding-right: env(safe-area-inset-right) !important;
  }
}

/* Material-UI specific fixes for iOS */
.MuiContainer-root {
  width: 100% !important;
  max-width: 100% !important;
  padding-left: 12px !important;
  padding-right: 12px !important;
}

/* Fix Grid system on iOS */
.MuiGrid-root {
  width: 100% !important;
  max-width: 100% !important;
}

.MuiGrid-container {
  width: 100% !important;
  margin: 0 !important;
}

.MuiGrid-item {
  max-width: 100% !important;
}

/* Fix Box components */
.MuiBox-root {
  max-width: 100vw !important;
}

/* Fix Paper and Card components */
.MuiPaper-root, .MuiCard-root {
  max-width: calc(100vw - 24px) !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

/* Fix dialogs on iOS */
@media (max-width: 600px) {
  .MuiDialog-paper {
    margin: 0 !important;
    width: 100vw !important;
    max-width: 100vw !important;
    height: 100vh !important;
    max-height: 100vh !important;
    border-radius: 0 !important;
  }
}

/* Fix buttons and form controls */
.MuiButton-root {
  max-width: 100% !important;
}

.MuiFormControl-root {
  max-width: 100% !important;
}

.MuiTextField-root {
  max-width: 100% !important;
}

/* Fix tables */
.MuiTableContainer-root {
  max-width: calc(100vw - 24px) !important;
  overflow-x: auto !important;
  -webkit-overflow-scrolling: touch !important;
}

/* Fix typography */
.MuiTypography-root {
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
}

/* Charts specific fix */
.recharts-responsive-container {
  width: 100% !important;
  max-width: calc(100vw - 32px) !important;
}

.recharts-wrapper {
  width: 100% !important;
}

/* iOS specific media query */
@media screen and (max-width: 428px) { /* iPhone 16 Pro Max width */
  /* Reduce all padding on mobile */
  .MuiContainer-root {
    padding-left: 8px !important;
    padding-right: 8px !important;
  }
  
  .MuiCardContent-root {
    padding: 12px !important;
  }
  
  .MuiDialogContent-root {
    padding: 16px !important;
  }
  
  /* Fix grid spacing */
  .MuiGrid-spacing-xs-1 > .MuiGrid-item,
  .MuiGrid-spacing-xs-2 > .MuiGrid-item,
  .MuiGrid-spacing-xs-3 > .MuiGrid-item {
    padding: 4px !important;
  }
  
  /* Main content area */
  main {
    padding: 8px !important;
    padding-bottom: 80px !important;
  }
  
  /* Fix headers */
  .MuiTypography-h4 {
    font-size: 1.25rem !important;
  }
  
  .MuiTypography-h5 {
    font-size: 1.1rem !important;
  }
  
  /* Fix bottom navigation */
  .MuiBottomNavigation-root {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    z-index: 1300 !important;
  }
}

/* Prevent any element from exceeding viewport width */
* {
  max-width: 100vw !important;
}

/* Fix for specific problem areas */
.MuiBox-root[display="flex"] {
  flex-wrap: wrap !important;
}

/* Ensure images don't overflow */
img {
  max-width: 100% !important;
  height: auto !important;
}

/* Fix floating action button */
.MuiFab-root {
  position: fixed !important;
  z-index: 1200 !important;
}
